---
import Layout from "@layouts/Layout.astro";

interface Props {
	frontmatter: {
		title?: string;
		description?: string;
		showFooterGoBack?: boolean;
		backUrl?: string;
	};
}
const { frontmatter } = Astro.props;
---

<Layout {...frontmatter}>
	<article class="prose dark:prose-invert mx-auto slide-enter-content">
		<slot />
	</article>
</Layout>

<style is:global>
	/* Style giscus discussions */
	.giscus-frame {
		@apply outline-none my-8;
	}

	/* Add underline animation for prose links */
	.prose a {
		@apply decoration-none transition-[border]-300 ease-in-out;
		@apply border-b-0.5 border-b-solid border-b-black/25;
	}
	.prose a:hover {
		@apply border-b-black;
	}
	html.dark .prose a {
		@apply border-b-white/25;
	}
	html.dark .prose a:hover {
		@apply border-b-white;
	}

	/* Style inline code */
	.prose code {
		color: var(--fg-deep);
		font-weight: normal;
		background-color: #aaaaaa18;
		border-radius: 0.25rem;
		padding: 0.2em;
	}
	.prose code::before,
	.prose code::after {
		content: "";
	}

	.prose pre code {
		background-color: transparent;
		padding: 0;
	}

	/* Code copy button styles */
	pre:has(code) {
		@apply relative;
	}

	pre button.copy {
		@apply absolute right-2 top-2;
		@apply w-8 h-8 rd-2 p-4;
		@apply hover:bg-dark/5 dark:hover:bg-light/5;

		& span {
			@apply absolute top-1/2 left-1/2 translate--50% opacity-60;
			@apply w-full h-full aspect-ratio-square;
		}

		& .ready {
			mask: url(/icons/copy.svg) no-repeat;
		}

		& .success {
			@apply opacity-0;
			mask: url(/icons/copy-success.svg) no-repeat;
		}

		& .ready,
		& .success {
			@apply inline-block v-text-bottom;
			@apply bg-current h-1.2em w-1.2em transition-opacity-300;

			-webkit-mask-size: 100% 100%;
			mask-size: 100% 100%;
		}

		&.copied {
			& .success {
				@apply opacity-60 color-green-300;
			}

			& .ready {
				@apply opacity-0;
			}
		}
	}
</style>
