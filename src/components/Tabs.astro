---
interface Props {
	tabs: string[];
}

// Generate a unique ID for the tabs group
const tabsId = `tabs-${Math.random().toString(36).substring(2, 9)}`;

const { tabs } = Astro.props;
---

<div>
	{
		tabs.map((tab, index) => (
			<input class="hidden" type="radio" id={tab} checked={index === 0} name={tabsId} />
		))
	}

	<ul class="flex gap-2 p-0">
		{
			tabs.map((tab) => (
				<label
					class="cursor-pointer
						   opacity-60 hover:opacity-100 transition-opacity-300
						   border-b-2 border-transparent transition-border-300"
					for={tab}
				>
					{tab}
				</label>
			))
		}
	</ul>

	<slot />
</div>

<style is:global>
	input[type="radio"]:nth-of-type(1):checked ~ ul label:nth-of-type(1),
	input[type="radio"]:nth-of-type(2):checked ~ ul label:nth-of-type(2),
	input[type="radio"]:nth-of-type(3):checked ~ ul label:nth-of-type(3),
	input[type="radio"]:nth-of-type(4):checked ~ ul label:nth-of-type(4),
	input[type="radio"]:nth-of-type(5):checked ~ ul label:nth-of-type(5) {
		@apply opacity-100 border-current;
	}

	input[type="radio"]:nth-of-type(1):checked ~ div[data-tab-content]:nth-of-type(1),
	input[type="radio"]:nth-of-type(2):checked ~ div[data-tab-content]:nth-of-type(2),
	input[type="radio"]:nth-of-type(3):checked ~ div[data-tab-content]:nth-of-type(3),
	input[type="radio"]:nth-of-type(4):checked ~ div[data-tab-content]:nth-of-type(4),
	input[type="radio"]:nth-of-type(5):checked ~ div[data-tab-content]:nth-of-type(5) {
		@apply block;
	}
</style>
